@model LoginViewModel
@using System.Collections.Generic
@using System.Threading.Tasks
@using DBC.Models.DB
@using Microsoft.AspNet.Http
@using Microsoft.AspNet.Http.Authentication
@inject SignInManager<ApplicationUser> SignInManager

@{
    ViewBag.Title = "Log in";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}
<div class="content">
    <!-- BEGIN LOGIN FORM -->
    <form asp-controller="Account" asp-action="Login" asp-route-returnurl="@ViewBag.ReturnUrl" method="post" class="login-form" role="form" style="display: block;">
        <h3 class="form-title">Aanmelden</h3>
        <div asp-validation-summary="ValidationSummary.All" class="alert-danger"></div>
        <div class="form-group">
            <label asp-for="Email" class="control-label visible-ie8 visible-ie9"></label>
            <input asp-for="Email" autofocus class="form-control form-control-solid placeholder-no-fix" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Password" class="control-label visible-ie8 visible-ie9"></label>
            <input asp-for="Password" class="form-control form-control-solid placeholder-no-fix" autocomplete="off" />
            <span asp-validation-for="Password" class="text-danger"></span>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-success uppercase">Login</button>
            <div class="checker"><span class=""><input asp-for="RememberMe" /></span></div>
            <label asp-for="RememberMe" class="rememberme check"></label>
            <a class="forget-password" asp-action="ForgotPassword"><translate>Forgot your password?</translate></a>
        </div>
    </form>
    @{
        var LoginProviders = SignInManager.GetExternalAuthenticationSchemes().ToList();
        if (LoginProviders.Count != 0)
        {
            <div class="form-actions" style="padding-bottom:0px;padding-top:10px">
                <div class="login-options" style="margin-bottom:auto">
                    <h4>Of login met</h4>
                    <div class="social-icons">
                        <ul>
                            @foreach (AuthenticationDescription p in LoginProviders)
                            {
                                <li>
                                    <a asp-action="ExternalLogin" asp-route-returnurl="@ViewBag.ReturnUrl" asp-route-provider="@p.AuthenticationScheme" class="social-icon-color @p.Caption" data-original-title="Goole Plus" ></a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        }
    }
    <!-- END LOGIN FORM -->
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}
