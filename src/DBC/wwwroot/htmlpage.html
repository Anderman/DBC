<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <table id="example1" class="datatables display" data-language='getLanguage' data-lengthmenu='getLengthMenu' data-url="/Account/GetAll" data-savestate="true" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th data-data="Email" data-render="createMailToLink(data)"></th>
                <th data-data="EmailConfirmed"></th>
                <th data-data="LockoutEnd" data-render="formatDate(data,'YYYY-DD-mm hh:mm:ss')"></th>
                <th data-data="TwoFactorEnabled"></th>
                <th data-data="UserName"></th>
            </tr>
        </thead>
    </table>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.11.2.min.js"></script>
    <script src="http://cdn.datatables.net/1.10.7/js/jquery.dataTables.js"></script>
    <script>
        var mvc = { "JQuery": { "Datatables": {} } }

        mvc.JQuery.Datatables.createMailToLink = function (data) {
            return '<a href=mailto:' + data + '>' + data + '</a>';
        }
        mvc.JQuery.Datatables.formatDate = function (data, type, full, meta, format) {
            return moment(data).format(format);
        }
        mvc.JQuery.Datatables.noRender = function (data) {
            return data;
        }
        mvc.JQuery.Datatables.returnNull = function (data) {
            return null;
        }
        mvc.JQuery.Datatables.getLengthMenu = function () { return [[25, 50, 100, -1],[25, 50, 100, "Alles"]] };
        mvc.JQuery.Datatables.getLanguage = function () { return {} };

        $(document).ready(function () {

            $('table.datatables').each(function () {
                var columns = [];
                $($(this).find("thead > tr > th[data-data]")).each(function () {
                    var column = {};
                    column.data = $(this).attr("data-data");
                    column.render = (mvc.JQuery.Datatables[$(this).attr("data-render") || "noRender"]);//new Function("data", "type", "full", "meta", "return " + (mvc.JQuery.Datatables[$(this).attr("data-render") || "noRender"])+"()");//$(this).attr("data-render-arg")
                    columns.push(column);
                });
                var root = {
                    "processing": true,
                    "serverSide": true,
                    "ajax": {
                        "url": $(this).attr("data-url"),
                        "type": "POST",
                        "contentType": "application/json; charset=utf-8",
                        "dataType": "json",
                        "data": function (d) {
                            return JSON.stringify(d);
                        }
                    },
                    "columns": columns,
                    "language": (mvc.JQuery.Datatables[$(this).attr("data-language") || "returnNull"]),
                    "lengthMenu": (mvc.JQuery.Datatables[$(this).attr("data-lengthMenu") || "returnNull"]),
                }
                debugger;
                $(this).dataTable(root)
            });
        });


    </script>
</body>
</html>